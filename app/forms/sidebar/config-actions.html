<!-- Config Actions -->
<ul class="nav-components sb-field-text sb-edit-action" ng-show="ctrl.onCreateButton">
    <!-- Estrutura -->
    <li class="item-components">
        Edição
    </li>
    <div class="inner-item">
        <div class="row">
            <div class="form-group">
                <label for="">Título do botão:</label>
                <input 
                    class="form-control input-sm" 
                    type="text"
                    placeholder="" 
                    ng-model="ctrl.editBt.label" 
                    ng-readonly="!ctrl.editBt.action == 'custom' || !ctr.editBt.action == 'dynamic_buttons'"
                >
            </div>
            <div class="form-group">
                <label for="displayLabel"> 
                    <input type="checkbox" id="displayLabel" name="displayLabel" ng-model="ctrl.editBt.notDisplayLabel"> 
                    Não mostrar texto 
                </label>
            </div>
            <div class="form-group" ng-show="ctrl.editBt.action == 'custom'">
                <label for=""> Destacar botão em <i class="fa fa-info-circle" uib-tooltip="O botão destacado aparecerá do lado dos botões de ação padrão na lista e/ou edição de registros"></i></label>
               <div>
                    <label for="featuredButtonList" style="margin-right: 20px">
                        <input type="checkbox" id="featuredButtonList" name="featuredButtonList" ng-model="ctrl.editBt.featuredButtonList"> 
                        Lista
                    </label>

                    <label for="featuredButtonEdit">
                        <input type="checkbox" id="featuredButtonEdit" name="featuredButtonEdit" ng-model="ctrl.editBt.featuredButtonEdit"> 
                        Edição
                    </label>
               </div> 
            </div>

            <div class="form-group" ng-if="ctrl.editBt.action == 'custom'">
                <div>
                    <label for=""> Cor de fundo <i class="fa fa-info-circle" uib-tooltip="Use o padrão do tema instalado ou escolha uma cor de fundo para o botão"></i></label>
                    <input type="color" class="form-control" ng-model="ctrl.editBt.background" style="width: 60px; padding: 2px">
                </div>

                <div>
                    <label for="">Ícone</label>
                    <input type="text" 
                        class="form-control input-sm" 
                        ng-model="ctrl.editBt.event.icon" 
                        uib-typeahead="icon.class as icon.class for icon in ctrl.ICONS | filter: {class: $viewValue}"
                        typeahead-template-url="icons.html"
                        typeahead-min-length="0"
                    />
                </div>
            </div>
        </div>

        <div class="form-group" ng-show="ctrl.editBt.action == 'save'">
            <label for="action-saveandstay">
                <input type="checkbox" id="action-saveandstay" ng-model="ctrl.editBt.saveAndStay">
                Ficar na página após salvar o form
            </label>
        </div>
        <div class="btn-cluster" ng-if="ctrl.editBt.action == 'custom'">
            <div class="stock-separator">
                <label>Evento</label>
            </div>

            <div class="row">
                <div class="form-group">
                    <input type="radio" name="typeEvent" id="typeEventService" value="source" ng-model="ctrl.editBt.typeEvent">
                    <label for="typeEventService">Chamar um serviço</label>
                </div>
                <div class="form-group">
                    <input type="radio" name="typeEvent" id="typeEventCode" value="code" ng-model="ctrl.editBt.typeEvent">
                    <label for="typeEventCode">Executar um código</label>
                </div>
            </div>

            <div class="row" ng-show="ctrl.editBt.typeEvent == 'source'">
                <div class="form-group">
                    <label for="">Source Key:</label>
                    <input class="form-control input-sm" placeholder="" type="text" ng-model="ctrl.editBt.event.sourceKey">
                </div>
                <div class="form-group">
                    <label for="">Método:</label>
                    <input class="form-control input-sm" placeholder="" type="text" ng-model="ctrl.editBt.event.method">
                </div>
                <div class="form-group">
                    <label> Rest API  </label> <i class="fa fa-info-circle" class="pull-right" uib-tooltip='Para "Ações em lote" e "Ações na lista" é necessário uma API Rest'></i>
                    <input type="text" name="" class="input-sm form-control" ng-model="ctrl.editBt.event.restapi"/>
                </div>
            </div>

            <div class="row" ng-show="ctrl.editBt.typeEvent == 'code'">
                <button class="btn btn-primary" ng-click="ctrl.openModalCode(ctrl.editBt)"> Editar o código </button>
            </div>

            <div class="stock-separator">
                <label for="">Tipo da ação</label>
            </div>

            <div class="form-group">
                <div>
                    <label for="multiAction">
                        <input type="checkbox" id="multiAction" ng-model="ctrl.editBt.event.multiAction" />
                        Ação em lote
                    </label>
                </div>

                <div>
                    <label for="rowAction">
                        <input type="checkbox" id="rowAction" ng-model="ctrl.editBt.event.rowAction" />
                        Ação na lista
                    </label>
                </div>

                <div>
                    <label for="editAction">
                        <input type="checkbox" id="editAction" ng-model="ctrl.editBt.event.editAction" />
                        Ação na edição
                    </label>
                </div> 
            </div>
        </div>

        <div class="btn-cluster" ng-if="ctrl.editBt.action == 'dynamic_buttons'">
            <div class="form-group">
                <label for="">Bind</label>
                <input type="text" 
                       class="input-sm form-control" 
                       ng-model="ctrl.editBt.bind"
                       typeahead-min-length="0"
                       uib-typeahead="field.alias as field.alias for field in ctrl.entityForm.attributes | filter:{alias: $viewValue}"
                />
            </div>

            <div class="row">
                <div class="form-group">
                    <label for="">Source Key:</label>
                    <input class="form-control input-sm" placeholder="Ex: app.module.key" type="text" ng-model="ctrl.editBt.sourceKey">
                </div>
            </div>

            <p style="color: inherit">
                <i class="fa fa-info-circle"></i>
                Se o source key retornar mais de três ações, esse botão irar aparecer como menu dessas ações. 
            </p>
        </div>

        <ng-include src="'/forms/studiov2.forms.actions.config-action-modal'" ng-if="ctrl.editBt.action == 'modal'"></ng-include>

        <div class="form-group" ng-hide="ctrl.editBt.action == 'dynamic_buttons'">
            <div class="stock-separator">
                <label>Visibilidade</label>
            </div>
            <div class="row">
                <div class="form-group">
                    <select class="form-control input-sm" ng-model="ctrl.editBt.visibilityType">
                        <option value="">Selecione</option>
                        <option value="true">Sim</option>
                        <option value="false">Não</option>
                        <option value="function">Função</option>
                        <option value="map">Propriedade/Valor</option>
                    </select>
                </div>

                <button class="btn btn-primary btn-sm" ng-if="ctrl.editBt.visibilityType == 'function'" ng-click="ctrl.openModalForConfig(ctrl.editBt,'visibilityExpression', 'function')">Editar função</button>
                <button class="btn btn-primary btn-sm" ng-if="ctrl.editBt.visibilityType == 'map'" ng-click="ctrl.openModalForConfig(ctrl.editBt,'visibilityExpression', 'map')">Editar Propriedade/Valor</button>
            </div>
        </div>
    </div>

    <!-- Estrutura -->
    <div class="action-buttons">
        <div class="row">
            <div class="col-xs-12 col-sm-6 no-padding col-pdd">
                <a class="btn btn-default btn-block" ng-click="ctrl.cancelCreateButton()">Cancelar</a>
            </div>
            <div class="col-xs-12 col-sm-6 no-padding">
                <button type="button" class="btn btn-success btn-block" ng-click="ctrl.saveEditButton()">Confirmar</button>
            </div>
        </div>
    </div>
</ul>
<!--  Config Actions -->